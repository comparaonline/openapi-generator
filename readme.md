
# Open API Generator
## @comparaonline/openapi-generator

Open API Generator is a tool that generates OpenAPI documentation and validates requests using Joi. It also provides an endpoint for viewing the OpenAPI documentation in both Swagger UI and JSON formats.


## Installation

Install with yarn

```bash
  yarn add @comparaonline/openapi-generator
```
    
Install with npm

```bash
  npm install @comparaonline/openapi-generator
```
    
## Configuration

#### Create a config file and exports {runSwagger,createHandler}

```javascript


import { SwaggerConfig, setupOpenApi } from '@comparaonline/openapi-generator';

const swaggerConfig: SwaggerConfig = {
  swaggerDoc: {
    openapi: '3.0.0',
    basePath: '/v1/api',
    info: {
      title: 'My API',
      version: '1.0.0',
      description: ' ',
      contact: {
        name: 'Insurance Core Team',
        url: 'https://comparaonline.com',
        email: 'info@comparaonline.com'
      },
      termsOfService: 'https://comparaonline.com',
      license: {
        name: 'ComparaOnline',
        url: 'https://comparaonline.com'
      }
    },
    servers: [
      {
        url: 'http://localhost:4000',
        description: 'Development server'
      },
      {
        url: 'https://devserver.com',
        description: 'Staging server'
      },
      {
        url: 'https://productionserver.com',
        description: 'Production server'
      }
    ]
  },
  folders: [
    './entities/*.ts'
  ],
  jsonPath: './docs/swagger.json',
  endpoint: '/open-api',
  active: true
}
const {runSwagger,createHandler}=setupOpenApi(swaggerConfig)
export {runSwagger,createHandler}
```

#### Add runSwagger to app and main router in the main file

```javascript
import express, { Router } from "express"
import { productsRouter } from "./products.router"
import { runSwagger } from "./openapi.config"
const app=express()
const router=Router()
router.get('/',(_req,res)=>{
    res.status(200).send('Hello World!')
})

router.use('/products',productsRouter)
app.use('/api/v1/',router)
//added here
runSwagger(app,router)
const port=process.env.PORT ?? 3000
app.listen(port,()=>console.log(`APP listening on port ${port}`))
```

#### Use the "createHandler" with joi to validate and document the "request"
-- The "joi" should be assimilated to the way in which express receives the "request"
It must contain the structure --
- body
- params
- query
```javascript
//Products Router Example

import joi from 'joi'
import { Router } from 'express';
import { createHandler } from '@comparaonline/openapi-generator';

//Joi Schema

import joi from 'joi'
import { Router } from 'express';
import { createHandler } from './openapi.config';
const schema=joi.object().required().keys({
    params: {
      id: joi.string()
    }
  })

const productsRouter=Router()

productsRouter.get('/search/:id',createHandler(schema),(_req,res,_next)=>{
    //your code here
    res.status(200).send('OK')
})

export {productsRouter}
```

In this case, by adding the parameters, we get something like this
![Params Image](data:image/jpeg;base64,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)

The joi will not only validate that your parameters are correct but will also generate the documentation

### Query Params

To add query params you must follow the same logic as for path params in this way, the following example contains path and query params

```javascript

const schema=joi.object().required().keys({
    params: {
      id: joi.string()
    },
    query:{
      search:joi.number()
    }
  })

productsRouter.get('/search/:id',createHandler(schema),(_req,res,_next)=>{
    //your code here
    res.status(200).send('OK')
})
```

The result is something like this
//TODO
![Query and Params Image]()

### Responses
